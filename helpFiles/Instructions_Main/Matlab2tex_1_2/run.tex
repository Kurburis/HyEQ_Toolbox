% This file was automatically created from the m-file 
% "m2tex.m" written by USL. 
% The fontencoding in this file is UTF-8. 
%  
% You will need to include the following two packages in 
% your LaTeX-Main-File. 
%  
% \usepackage{color} 
% \usepackage{fancyvrb} 
%  
% It is advised to use the following option for Inputenc 
% \usepackage[utf8]{inputenc} 
%  
  
% definition of matlab colors: 
\definecolor{mblue}{rgb}{0,0,1} 
\definecolor{mgreen}{rgb}{0.13333,0.5451,0.13333} 
\definecolor{mred}{rgb}{0.62745,0.12549,0.94118} 
\definecolor{mgrey}{rgb}{0.5,0.5,0.5} 
\definecolor{mdarkgrey}{rgb}{0.25,0.25,0.25} 
  
\DefineShortVerb[fontfamily=courier,fontseries=m]{\$} 
\DefineShortVerb[fontfamily=courier,fontseries=b]{\#} 
  
\begin{Verbatim}[commandchars=\$\{\},numbers=left,numbersep=2pt] 
    $textcolor{mgreen}{%--------------------------------------------------------------------------}     $textcolor{mgreen}{% Matlab M-file Project: HyEQ Toolbox @  Hybrid Systems Laboratory (HSL), }     $textcolor{mgreen}{% https://hybrid.soe.ucsc.edu/software}     $textcolor{mgreen}{% http://hybridsimulator.wordpress.com/}     $textcolor{mgreen}{% Filename: run_ex1_2a.m}     $textcolor{mgreen}{%--------------------------------------------------------------------------}     $textcolor{mgreen}{% Project: Simulation of a hybrid system (bouncing ball)}     $textcolor{mgreen}{%--------------------------------------------------------------------------}     $textcolor{mgreen}{%--------------------------------------------------------------------------}     $textcolor{mgreen}{%   See also HYEQSOLVER, PLOTARC, PLOTARC3, PLOTFLOWS, PLOTHARC,}     $textcolor{mgreen}{%   PLOTHARCCOLOR, PLOTHARCCOLOR3D, PLOTHYBRIDARC, PLOTJUMPS.}     $textcolor{mgreen}{%   Copyright @ Hybrid Systems Laboratory (HSL),}     $textcolor{mgreen}{%   Revision: 0.0.0.3 Date: 05/20/2015 3:42:00}          $textcolor{mblue}{function} run_ex1_2a     $textcolor{mgreen}{% initial conditions}     x1_0 = 1;     x2_0 = 0;     x0 = [x1_0;x2_0];          $textcolor{mgreen}{% physical variables}     $textcolor{mblue}{global} gamma lambda     gamma = -9.81;  $textcolor{mgreen}{% gravity constant}     lambda = 0.8;   $textcolor{mgreen}{% restitution coefficent}          $textcolor{mgreen}{% simulation horizon}     TSPAN=[0 $textcolor{mred}{10];}     JSPAN = [0 20];          $textcolor{mgreen}{% rule for jumps}     $textcolor{mgreen}{% rule = 1 -> priority for jumps}     $textcolor{mgreen}{% rule = 2 -> priority for flows}     rule = 1;          options = odeset($textcolor{mred}{'RelTol'},1e-6,$textcolor{mred}{'MaxStep'},.1);          $textcolor{mgreen}{% simulate}     [t $textcolor{mred}{j x] = HyEQsolver( @f_ex1_2a,@g_ex1_2a,@C_ex1_2a,@D_ex1_2a,...}         x0,TSPAN,JSPAN,rule,options);          $textcolor{mgreen}{% plot solution}     figure(1) $textcolor{mgreen}{% position}     clf     subplot(2,1,1), $textcolor{mred}{plotHarc(t,j,x(:,1));}     grid $textcolor{mred}{on}     ylabel($textcolor{mred}{'x_1 position'})     subplot(2,1,2), $textcolor{mred}{plotHarc(t,j,x(:,2));}     grid $textcolor{mred}{on}     ylabel($textcolor{mred}{'x_2 velocity'})          $textcolor{mgreen}{% plot phase plane}     figure(2) $textcolor{mgreen}{% position}     clf     plotHarcColor(x(:,1),j,x(:,2),t);     xlabel($textcolor{mred}{'x_1'})     ylabel($textcolor{mred}{'x_2'})     grid $textcolor{mred}{on}          $textcolor{mgreen}{% plot hybrid arc}     figure(3)     plotHybridArc(t,j,x)     xlabel($textcolor{mred}{'j'})     ylabel($textcolor{mred}{'t'})     zlabel($textcolor{mred}{'x1'})       
\end{Verbatim}  
  
\UndefineShortVerb{\$} 
\UndefineShortVerb{\#} 
 